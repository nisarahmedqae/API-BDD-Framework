
@bookerAPI @createBooking @createBookingDataTable
Scenario Outline: To create new booking using cucumber Data Table "TC01"      # src/main/java/com/nahmed/cucumber/features/CreateBooking.feature:15
  Given user has access to endpoint "/booking"                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a booking                                                 # com.nahmed.cucumber.stepdefs.CreateBookingStepdefinition.userCreatesABooking(io.cucumber.datatable.DataTable)
    | firstname | lastname | totalprice | depositpaid | checkin    | checkout   | additionalneeds |
    | John      | Doe      | 1200       | true        | 2021-05-05 | 2021-05-15 | Breakfast       |
  Then user should get the response code 200                                  # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "createBookingSchema.json" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)

@bookerAPI @createBooking @createBookingDataTable
Scenario Outline: To create new booking using cucumber Data Table "TC02"      # src/main/java/com/nahmed/cucumber/features/CreateBooking.feature:16
  Given user has access to endpoint "/booking"                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a booking                                                 # com.nahmed.cucumber.stepdefs.CreateBookingStepdefinition.userCreatesABooking(io.cucumber.datatable.DataTable)
    | firstname | lastname | totalprice | depositpaid | checkin    | checkout   | additionalneeds |
    | Jane      | Doe      | 2400       | false       | 2021-06-01 | 2021-07-10 | Dinner          |
  Then user should get the response code 200                                  # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "createBookingSchema.json" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)

@bookerAPI @deleteBooking @deleteBookingIDs
Scenario: To delete a booking                                                         # src/main/java/com/nahmed/cucumber/features/DeleteBooking.feature:10
  Given user has access to endpoint "/auth"                                           # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a auth token with credential "admin" & "password123"              # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userCreatesAAuthTokenWithCredential(java.lang.String,java.lang.String)
  Then user should get the response code 200                                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  Given user has access to endpoint "/booking"                                        # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  And user makes a request to view booking IDs                                        # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  When user makes a request to delete booking with basic auth "admin" & "password123" # com.nahmed.cucumber.stepdefs.DeleteBookingStepdefinition.userMakesARequestToDeleteBookingWithBasicAuth(java.lang.String,java.lang.String)
  Then user should get the response code 201                                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)

@bookerAPI @deleteBooking @e2eTest
Scenario Outline: To perform a CURD operation on restful-booker                      # src/main/java/com/nahmed/cucumber/features/DeleteBooking.feature:37
  Given user has access to endpoint "/auth"                                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a auth token with credential "admin" & "password123"             # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userCreatesAAuthTokenWithCredential(java.lang.String,java.lang.String)
  Then user should get the response code 200                                         # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  Given user has access to endpoint "/booking"                                       # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a booking                                                        # com.nahmed.cucumber.stepdefs.CreateBookingStepdefinition.userCreatesABooking(io.cucumber.datatable.DataTable)
    | firstname | lastname | totalprice | depositpaid | checkin    | checkout   | additionalneeds |
    | John      | Doe      | 1200       | true        | 2021-05-05 | 2021-05-15 | Breakfast       |
  Then user should get the response code 200                                         # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "createBookingSchema.json"        # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)
  And user updates the details of a booking                                          # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userUpdatesABooking(io.cucumber.datatable.DataTable)
    | firstname | lastname | totalprice | depositpaid | checkin    | checkout   | additionalneeds |
    | John      | Doe      | 1200       | true        | 2021-05-05 | 2021-05-15 | Breakfast       |
  And user should get the response code 200                                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "bookingDetailsSchema.json"       # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)
  And user makes a request to view details of a booking ID                           # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewDetailsOfBookingID()
  And user should get the response code 200                                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "bookingDetailsSchema.json"       # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)
  And user makes a request to delete booking with basic auth "admin" & "password123" # com.nahmed.cucumber.stepdefs.DeleteBookingStepdefinition.userMakesARequestToDeleteBookingWithBasicAuth(java.lang.String,java.lang.String)
  And user should get the response code 201                                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)

@bookerAPI @updateBooking @updateBookingDataTable
Scenario Outline: To update a booking using cucumber Data Table                # src/main/java/com/nahmed/cucumber/features/UpdateBooking.feature:21
  Given user has access to endpoint "/auth"                                    # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a auth token with credential "admin" & "password123"       # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userCreatesAAuthTokenWithCredential(java.lang.String,java.lang.String)
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  Given user has access to endpoint "/booking"                                 # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  And user updates the details of a booking                                    # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userUpdatesABooking(io.cucumber.datatable.DataTable)
    | firstname | lastname | totalprice | depositpaid | checkin    | checkout   | additionalneeds |
    | John      | Rambo    | 10000      | true        | 2021-05-15 | 2021-06-11 | Breakfast       |
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "bookingDetailsSchema.json" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)

@bookerAPI @updateBooking @updateBookingDataTable
Scenario Outline: To update a booking using cucumber Data Table                # src/main/java/com/nahmed/cucumber/features/UpdateBooking.feature:22
  Given user has access to endpoint "/auth"                                    # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a auth token with credential "admin" & "password123"       # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userCreatesAAuthTokenWithCredential(java.lang.String,java.lang.String)
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  Given user has access to endpoint "/booking"                                 # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  And user updates the details of a booking                                    # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userUpdatesABooking(io.cucumber.datatable.DataTable)
    | firstname | lastname | totalprice | depositpaid | checkin    | checkout   | additionalneeds |
    | Rocky     | Balboa   | 2006       | false       | 2021-06-01 | 2021-07-10 | Dinner          |
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "bookingDetailsSchema.json" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)

@bookerAPI @updateBooking @partialUpdateBooking
Scenario: To partially update a booking                                        # src/main/java/com/nahmed/cucumber/features/UpdateBooking.feature:26
  Given user has access to endpoint "/auth"                                    # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user creates a auth token with credential "admin" & "password123"       # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userCreatesAAuthTokenWithCredential(java.lang.String,java.lang.String)
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  Given user has access to endpoint "/booking"                                 # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  And user makes a request to update first name "John" & Last name "Wick"      # com.nahmed.cucumber.stepdefs.UpdateBookingStepdefinition.userMakesARequestToUpdateFirstNameLastName(java.lang.String,java.lang.String)
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "bookingDetailsSchema.json" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)

@bookerAPI @viewBooking @viewAllBookingIDs
Scenario: To view all the booking IDs           # src/main/java/com/nahmed/cucumber/features/ViewBookingDetails.feature:5
  Given user has access to endpoint "/booking"  # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  Then user should get the response code 200    # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user should see all the booking IDs       # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShouldSeeAllTheBookingIDS()

@bookerAPI @viewBooking @viewBookingDetails
Scenario: To view booking details                                              # src/main/java/com/nahmed/cucumber/features/ViewBookingDetails.feature:12
  Given user has access to endpoint "/booking"                                 # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  And user makes a request to view details of a booking ID                     # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewDetailsOfBookingID()
  Then user should get the response code 200                                   # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user validates the response with JSON schema "bookingDetailsSchema.json" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userValidatesResponseWithJSONSchema(java.lang.String)

@bookerAPI @viewBooking @viewByBookingDates
Scenario Outline: To view all the booking IDs by booking dates                    # src/main/java/com/nahmed/cucumber/features/ViewBookingDetails.feature:28
  Given user has access to endpoint "/booking"                                    # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs from "2018-01-01" to "2021-12-31" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingFromTo(java.lang.String,java.lang.String)
  Then user should get the response code 200                                      # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user should see all the booking IDs                                         # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShouldSeeAllTheBookingIDS()

@bookerAPI @viewBooking @viewByBookingDates
Scenario Outline: To view all the booking IDs by booking dates                    # src/main/java/com/nahmed/cucumber/features/ViewBookingDetails.feature:29
  Given user has access to endpoint "/booking"                                    # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs from "2010-01-01" to "2020-12-31" # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingFromTo(java.lang.String,java.lang.String)
  Then user should get the response code 200                                      # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user should see all the booking IDs                                         # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShouldSeeAllTheBookingIDS()

@bookerAPI @viewBooking @viewBookingByName
Scenario: To view all the booking IDs by booking names                   # src/main/java/com/nahmed/cucumber/features/ViewBookingDetails.feature:32
  Given user has access to endpoint "/booking"                           # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to view booking IDs                          # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDs()
  Then user should see all the booking IDs                               # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShouldSeeAllTheBookingIDS()
  And user makes a request to view details of a booking ID               # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewDetailsOfBookingID()
  And user makes a request to view all the booking IDs of that user name # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToViewBookingIDByUserName()
  And user should get the response code 200                              # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
  And user should see all the booking IDs                                # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShouldSeeAllTheBookingIDS()

@bookerAPI @viewBooking @healthCheck
Scenario: To confirm whether the API is up and running             # src/main/java/com/nahmed/cucumber/features/ViewBookingDetails.feature:42
  Given user has access to endpoint "/ping"                        # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userHasAccessToEndpoint(java.lang.String)
  When user makes a request to check the health of booking service # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userMakesARequestToCheckTheHealthOfBookingService()
  Then user should get the response code 201                       # com.nahmed.cucumber.stepdefs.ViewBookingDetailsStepdefinition.userShpuldGetTheResponseCode(java.lang.Integer)
