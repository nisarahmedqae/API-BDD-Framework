2025-06-07 19:09:13.126 [main] INFO  org.testng.internal.Utils - [TestNG] Running:
  C:\Users\iamni\AppData\Local\JetBrains\IdeaIC2025.1\temp-testng-customsuite.xml

2025-06-07 19:09:13.576 [main] INFO  com.nahmed.utils.TestListener - [35m=========================================================================================[0m
2025-06-07 19:09:13.592 [main] INFO  com.nahmed.utils.TestListener - [35m CUCUMBER TEST EXECUTION STARTED [0m
2025-06-07 19:09:13.592 [main] INFO  com.nahmed.utils.TestListener - [35m Timestamp: 2025-06-07T13:39:13.576066400Z[0m
2025-06-07 19:09:13.592 [main] INFO  com.nahmed.utils.TestListener - [35m=========================================================================================[0m
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.utils.TestListener - [34m*****************************************************************************************[0m
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.utils.TestListener - [34mFeature: CreateBooking.feature[0m
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.utils.TestListener - [34mStarting Scenario: To create new booking using cucumber Data Table "TC01" (Line: 15)[0m
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.utils.TestListener - [34mTags: @bookerAPI, @createBooking, @createBookingDataTable[0m
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.utils.TestListener - [34m*****************************************************************************************[0m
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.events.Hooks - INTEGRATION environment selected
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.events.Hooks - Attempting to generate OAuth2 token...
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.events.Hooks - OAuth2 token successfully generated and stored in session.
2025-06-07 19:09:13.894 [main] INFO  com.nahmed.utils.TestListener - [34m  Given user has access to endpoint "/booking"[0m
2025-06-07 19:09:13.905 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: Given user has access to endpoint "/booking"[0m
2025-06-07 19:09:13.907 [main] INFO  com.nahmed.utils.TestListener - [34m  When user creates a booking[0m
2025-06-07 19:09:16.873 [main] DEBUG c.n.utils.RestAssuredRequestFilter - -----------------------------------------------------------------------------------------
2025-06-07 19:09:16.873 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request Method => POST
2025-06-07 19:09:16.875 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request URI => https://restful-booker.herokuapp.com/booking
2025-06-07 19:09:16.875 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request Header =>
Accept=application/json
Content-Type=application/json
2025-06-07 19:09:16.875 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request Body => {"firstname":"John","additionalneeds":"Breakfast","bookingdates":{"checkin":"2021-05-05","checkout":"2021-05-15"},"totalprice":1200,"depositpaid":true,"lastname":"Doe"}
2025-06-07 19:09:16.875 [main] DEBUG c.n.utils.RestAssuredRequestFilter - 
 Response Status => HTTP/1.1 200 OK
2025-06-07 19:09:16.875 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Response Header =>
Content-Length=197
Content-Type=application/json; charset=utf-8
Date=Sat, 07 Jun 2025 13:39:21 GMT
Etag=W/"c5-h7na62gnx+1aFiwkE7X8DCKnjH0"
Nel={"report_to":"heroku-nel","response_headers":["Via"],"max_age":3600,"success_fraction":0.01,"failure_fraction":0.1}
Report-To={"group":"heroku-nel","endpoints":[{"url":"https://nel.heroku.com/reports?s=TO07rzhwgySnacNO5jde1LaP2LPC4WDeBrGGYmxwUxs%3D\u0026sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add\u0026ts=1749303561"}],"max_age":3600}
Reporting-Endpoints=heroku-nel="https://nel.heroku.com/reports?s=TO07rzhwgySnacNO5jde1LaP2LPC4WDeBrGGYmxwUxs%3D&sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add&ts=1749303561"
Server=Heroku
Via=1.1 heroku-router
X-Powered-By=Express
2025-06-07 19:09:16.902 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Response Body => 
{
    "bookingid": 4277,
    "booking": {
        "firstname": "John",
        "lastname": "Doe",
        "totalprice": 1200,
        "depositpaid": true,
        "bookingdates": {
            "checkin": "2021-05-05",
            "checkout": "2021-05-15"
        },
        "additionalneeds": "Breakfast"
    }
}
2025-06-07 19:09:16.902 [main] DEBUG c.n.utils.RestAssuredRequestFilter - -----------------------------------------------------------------------------------------
2025-06-07 19:09:17.025 [main] DEBUG com.nahmed.utils.ResponseHandler - Handling Response (Deserialized): 
{
  "booking" : {
    "firstname" : "John",
    "additionalneeds" : "Breakfast",
    "bookingdates" : {
      "checkin" : "2021-05-05",
      "checkout" : "2021-05-15"
    },
    "totalprice" : "1200",
    "depositpaid" : "true",
    "lastname" : "Doe"
  },
  "bookingid" : "4277"
}
2025-06-07 19:09:17.025 [main] DEBUG com.nahmed.utils.ResponseHandler - Successfully deserialized response to type: com.nahmed.models.response.BookingDTO
2025-06-07 19:09:17.028 [main] INFO  c.n.s.CreateBookingStepdefinition - Newly created booking ID: 4277
2025-06-07 19:09:17.028 [main] INFO  c.n.s.CreateBookingStepdefinition - Validating booking data: {"firstname":"John","additionalneeds":"Breakfast","checkin":"2021-05-05","totalprice":"1200","depositpaid":"true","checkout":"2021-05-15","lastname":"Doe"}
2025-06-07 19:09:17.031 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: When user creates a booking[0m
2025-06-07 19:09:17.031 [main] INFO  com.nahmed.utils.TestListener - [34m  Then user should get the response code 200[0m
2025-06-07 19:09:17.031 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: Then user should get the response code 200[0m
2025-06-07 19:09:17.031 [main] INFO  com.nahmed.utils.TestListener - [34m  And user validates the response with JSON schema "createBookingSchema.json"[0m
2025-06-07 19:09:17.031 [main] DEBUG com.nahmed.utils.ValidationUtils - Attempting to validate against schema file: C:\Users\iamni\IdeaProjects\API-BDD-Framework\src\main\java\com\nahmed\models\schema\createBookingSchema.json
2025-06-07 19:09:17.288 [main] INFO  com.nahmed.utils.ValidationUtils - Successfully validated response against schema: createBookingSchema.json
2025-06-07 19:09:17.288 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: And user validates the response with JSON schema "createBookingSchema.json"[0m
2025-06-07 19:09:17.288 [main] INFO  com.nahmed.utils.TestListener - [32m*****************************************************************************************[0m
2025-06-07 19:09:17.288 [main] INFO  com.nahmed.utils.TestListener - [32mFinished Scenario: To create new booking using cucumber Data Table "TC01" --> PASSED[0m
2025-06-07 19:09:17.293 [main] INFO  com.nahmed.utils.TestListener - [32m  Duration: 3.48 seconds[0m
2025-06-07 19:09:17.293 [main] INFO  com.nahmed.utils.TestListener - [32m*****************************************************************************************[0m
2025-06-07 19:09:17.293 [main] INFO  com.nahmed.utils.TestListener - 
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [34m*****************************************************************************************[0m
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [34mFeature: CreateBooking.feature[0m
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [34mStarting Scenario: To create new booking using cucumber Data Table "TC02" (Line: 16)[0m
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [34mTags: @bookerAPI, @createBooking, @createBookingDataTable[0m
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [34m*****************************************************************************************[0m
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.events.Hooks - INTEGRATION environment selected
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.events.Hooks - Attempting to generate OAuth2 token...
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.events.Hooks - OAuth2 token successfully generated and stored in session.
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [34m  Given user has access to endpoint "/booking"[0m
2025-06-07 19:09:17.303 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: Given user has access to endpoint "/booking"[0m
2025-06-07 19:09:17.309 [main] INFO  com.nahmed.utils.TestListener - [34m  When user creates a booking[0m
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter - -----------------------------------------------------------------------------------------
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request Method => POST
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request URI => https://restful-booker.herokuapp.com/booking
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request Header =>
Accept=application/json
Content-Type=application/json
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Request Body => {"firstname":"Jane","additionalneeds":"Dinner","bookingdates":{"checkin":"2021-06-01","checkout":"2021-07-10"},"totalprice":2400,"depositpaid":false,"lastname":"Doe"}
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter - 
 Response Status => HTTP/1.1 200 OK
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Response Header =>
Content-Length=195
Content-Type=application/json; charset=utf-8
Date=Sat, 07 Jun 2025 13:39:23 GMT
Etag=W/"c3-vSoPStvQ3GSqZKRi5U5Lttgn3Ps"
Nel={"report_to":"heroku-nel","response_headers":["Via"],"max_age":3600,"success_fraction":0.01,"failure_fraction":0.1}
Report-To={"group":"heroku-nel","endpoints":[{"url":"https://nel.heroku.com/reports?s=1w9RU8OIGP1vTgCsWiBgClpklkdt%2B%2Bwy2PC2WV9B%2BA4%3D\u0026sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add\u0026ts=1749303563"}],"max_age":3600}
Reporting-Endpoints=heroku-nel="https://nel.heroku.com/reports?s=1w9RU8OIGP1vTgCsWiBgClpklkdt%2B%2Bwy2PC2WV9B%2BA4%3D&sid=c46efe9b-d3d2-4a0c-8c76-bfafa16c5add&ts=1749303563"
Server=Heroku
Via=1.1 heroku-router
X-Powered-By=Express
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter -  Response Body => 
{
    "bookingid": 4301,
    "booking": {
        "firstname": "Jane",
        "lastname": "Doe",
        "totalprice": 2400,
        "depositpaid": false,
        "bookingdates": {
            "checkin": "2021-06-01",
            "checkout": "2021-07-10"
        },
        "additionalneeds": "Dinner"
    }
}
2025-06-07 19:09:19.178 [main] DEBUG c.n.utils.RestAssuredRequestFilter - -----------------------------------------------------------------------------------------
2025-06-07 19:09:19.178 [main] DEBUG com.nahmed.utils.ResponseHandler - Handling Response (Deserialized): 
{
  "booking" : {
    "firstname" : "Jane",
    "additionalneeds" : "Dinner",
    "bookingdates" : {
      "checkin" : "2021-06-01",
      "checkout" : "2021-07-10"
    },
    "totalprice" : "2400",
    "depositpaid" : "false",
    "lastname" : "Doe"
  },
  "bookingid" : "4301"
}
2025-06-07 19:09:19.178 [main] DEBUG com.nahmed.utils.ResponseHandler - Successfully deserialized response to type: com.nahmed.models.response.BookingDTO
2025-06-07 19:09:19.178 [main] INFO  c.n.s.CreateBookingStepdefinition - Newly created booking ID: 4301
2025-06-07 19:09:19.178 [main] INFO  c.n.s.CreateBookingStepdefinition - Validating booking data: {"firstname":"Jane","additionalneeds":"Dinner","checkin":"2021-06-01","totalprice":"2400","depositpaid":"false","checkout":"2021-07-10","lastname":"Doe"}
2025-06-07 19:09:19.178 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: When user creates a booking[0m
2025-06-07 19:09:19.178 [main] INFO  com.nahmed.utils.TestListener - [34m  Then user should get the response code 200[0m
2025-06-07 19:09:19.178 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: Then user should get the response code 200[0m
2025-06-07 19:09:19.188 [main] INFO  com.nahmed.utils.TestListener - [34m  And user validates the response with JSON schema "createBookingSchema.json"[0m
2025-06-07 19:09:19.188 [main] DEBUG com.nahmed.utils.ValidationUtils - Attempting to validate against schema file: C:\Users\iamni\IdeaProjects\API-BDD-Framework\src\main\java\com\nahmed\models\schema\createBookingSchema.json
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.ValidationUtils - Successfully validated response against schema: createBookingSchema.json
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.TestListener - [32m  STEP PASSED: And user validates the response with JSON schema "createBookingSchema.json"[0m
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.TestListener - [32m*****************************************************************************************[0m
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.TestListener - [32mFinished Scenario: To create new booking using cucumber Data Table "TC02" --> PASSED[0m
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.TestListener - [32m  Duration: 1.89 seconds[0m
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.TestListener - [32m*****************************************************************************************[0m
2025-06-07 19:09:19.194 [main] INFO  com.nahmed.utils.TestListener - 
2025-06-07 19:09:19.215 [main] INFO  com.nahmed.utils.TestListener - [35m=========================================================================================[0m
2025-06-07 19:09:19.215 [main] INFO  com.nahmed.utils.TestListener - [35m CUCUMBER TEST EXECUTION FINISHED [0m
2025-06-07 19:09:19.215 [main] INFO  com.nahmed.utils.TestListener - [32m Overall Status: PASSED[0m
2025-06-07 19:09:19.215 [main] INFO  com.nahmed.utils.TestListener - [35m Timestamp: 2025-06-07T13:39:19.198096300Z[0m
2025-06-07 19:09:19.215 [main] INFO  com.nahmed.utils.TestListener - [35m=========================================================================================[0m
